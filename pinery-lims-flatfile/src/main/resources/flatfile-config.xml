<?xml version="1.0" encoding="UTF-8"?>

<beans xmlns="http://www.springframework.org/schema/beans"
   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
   xmlns:context="http://www.springframework.org/schema/context"
   xmlns:aop="http://www.springframework.org/schema/aop"
   xmlns:tx="http://www.springframework.org/schema/tx"
   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.2.xsd
      http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.2.xsd
      http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.2.xsd
      http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
   
   <context:property-placeholder location="${flatfile.propertiesFile}"/>
   
   <bean id="instrumentsFile" class="java.io.File">
      <constructor-arg value="${flatfile.instruments}"/>
   </bean>
   <bean id="ordersFile" class="java.io.File">
      <constructor-arg value="${flatfile.orders}"/>
   </bean>
   <bean id="samplesFile" class="java.io.File">
      <constructor-arg value="${flatfile.samples}"/>
   </bean>
   <bean id="changesFile" class="java.io.File">
      <constructor-arg value="${flatfile.changes}"/>
   </bean>
   <bean id="runsFile" class="java.io.File">
      <constructor-arg value="${flatfile.runs}"/>
   </bean>
   <bean id="usersFile" class="java.io.File">
      <constructor-arg value="${flatfile.users}"/>
   </bean>
   
   <bean id="flatfileClient" class="ca.on.oicr.pinery.lims.flatfile.FlatfileClient">
      <property name="instrumentsFile" ref="instrumentsFile" />
      <property name="ordersFile" ref="ordersFile" />
      <property name="samplesFile" ref="samplesFile" />
      <property name="changesFile" ref="changesFile" />
      <property name="runsFile" ref="runsFile" />
      <property name="usersFile" ref="usersFile" />
   </bean>
   
</beans>